# JOIN

What can be the data souce of a query (in the **FROM** clause)?
- a table name
- a view name (we'll come to views later)
- a table-returning subquery in brackets 
- a set-returning (table-returning) function (we'll come to these later)
- a VALUES expression (we'll come to these later)
- and finaly - **a JOIN expression of the above**

> [!NOTE]
> Joining tables A and B is associating (joining) rows from table A with rows from table B according to certain rules that produces a table result with all the columns of both tables in each row

> [!NOTE]
> Rows are joined according to the join condition (this is the ON clause)  
> Syntax: `ON <boolean expression>` (according to the **explicit join notation**)  
> You may read about the rudimentary **implicit join notation** [here](https://www.cybertec-postgresql.com/en/postgressql-implicit-vs-explicit-joins/)

## JOIN types
<img width="600" alt="image" src="https://github.com/user-attachments/assets/518b13ae-524a-474d-8657-2a1d871ffb32" />  

> [!NOTE]
> I only used `[inner] join`, `left|right [outer] join` and `cross join` (beware!) in my active professional life.  
> The others are [syntactic sugar](https://en.wikipedia.org/wiki/Syntactic_sugar). I am not sure whether they contribute to clarity and readability.

It's worth reading this good and detailed [JOIN wikipedia article](https://en.wikipedia.org/wiki/Join_(SQL)).

An example using W3Schools sample tables:  
```sql
select od.quantity, p.product_name,
       p.price, c.category_name,
       p.price * od.quantity as tr_value
from order_details od 
inner join products p on od.product_id=p.product_id
inner join categories c on c.category_id = p.category_id;
```
> [!NOTE]
> Pay attention to the use of qualified column names (`p.product_id`, `od.quantity`, etc.)  
> These are critically important against coumn names' ambiguity

Please also note that:
```sql
select <whatever>
from table_a a
inner join table_b b on a.id = b.id;
```
is equivalent to (why?)
```sql
select <whatever>
from table_a a
left outer join table_b b on a.id = b.id
where b.id is not null;
```
